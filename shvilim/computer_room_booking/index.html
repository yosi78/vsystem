<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>הזמנת חדר מחשבים</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- מסך התחברות והזנת שם מורה -->
        <div id="loginScreen" class="screen active">
            <div class="header">
                <h1>🖥️ הזמנת חדר מחשבים</h1>
				<p>version 0.1</p>
            </div>
            
            <div class="connection-status">
                <div class="status-dot" id="statusDot"></div>
                <span id="connectionStatus">מתחבר לענן...</span>
            </div>
            
            <div class="form-group">
                <label for="teacherName">שם המורה:</label>
                <input type="text" id="teacherName" placeholder="הזיני את שמך" autocomplete="off">
            </div>
            
            <button class="btn btn-primary" id="btnToDatePicker">הבא</button>
            <button class="btn btn-admin" id="btnAdminAccess">כניסה למנהל</button>
        </div>

        <!-- מסך בחירת תאריך -->
        <div id="dateScreen" class="screen">
            <div class="header">
                <h2>בחירת תאריך</h2>
                <p class="teacher-info">שלום, <strong id="teacherNameDisplay"></strong></p>
            </div>
            
            <div class="date-picker-wrapper">
                <input type="date" id="datePicker" class="date-input">
                
                <div class="legend">
                    <div class="legend-item">
                        <span class="legend-dot available"></span>
                        <span>ימים עם שעות פנויות</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-dot fully-booked"></span>
                        <span>ימים ללא שעות פנויות</span>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" id="btnBackFromDate">חזור</button>
                <button class="btn btn-primary" id="btnToHours">הבא</button>
            </div>
        </div>

        <!-- מסך בחירת שעות -->
        <div id="hoursScreen" class="screen">
            <div class="header">
                <h2>בחירת שעה</h2>
                <p class="date-display" id="selectedDateDisplay"></p>
            </div>
            
            <div class="hours-container" id="hoursContainer"></div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" id="btnBackFromHours">חזור</button>
                <button class="btn btn-primary" id="btnConfirmBooking" disabled>אשר הזמנה</button>
            </div>
        </div>

        <!-- מסך אישור הזמנה -->
        <div id="confirmationScreen" class="screen">
            <div class="confirmation-content">
                <div class="success-icon">✓</div>
                <h2>ההזמנה אושרה בהצלחה!</h2>
                <div class="booking-summary" id="bookingSummary"></div>
                <button class="btn btn-primary" id="btnNewBooking">הזמנה חדשה</button>
            </div>
        </div>

        <!-- מסך כניסה למנהל -->
        <div id="adminLoginScreen" class="screen">
            <div class="header">
                <h2>כניסה למנהל</h2>
            </div>
            
            <div class="form-group">
                <label for="adminPassword">סיסמה:</label>
                <input type="password" id="adminPassword" placeholder="הזן סיסמת מנהל">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" id="btnBackFromAdminLogin">חזור</button>
                <button class="btn btn-primary" id="btnAdminLogin">כניסה</button>
            </div>
        </div>

        <!-- מסך מנהל -->
        <div id="adminScreen" class="screen">
            <div class="header">
                <h2>פאנל ניהול</h2>
            </div>
            
            <div class="admin-tabs">
                <button class="tab-btn active" data-tab="weeklySchedule">מערכת שבועית</button>
                <button class="tab-btn" data-tab="bookings">ניהול הזמנות</button>
            </div>
            
            <!-- טאב מערכת שבועית -->
            <div id="weeklyScheduleTab" class="tab-content active">
                <h3>הגדרת שעות פעילות שבועיות</h3>
                <p class="info-text">בחר את השעות בהן החדר זמין לכל יום בשבוע</p>
                
                <div class="weekly-schedule" id="weeklyScheduleContainer"></div>
                
                <button class="btn btn-success" id="btnSaveSchedule">שמור מערכת</button>
            </div>
            
            <!-- טאב ניהול הזמנות -->
            <div id="bookingsTab" class="tab-content">
                <h3>ניהול הזמנות</h3>
                
                <div class="form-group">
                    <label for="adminDatePicker">בחר תאריך:</label>
                    <input type="date" id="adminDatePicker" class="date-input">
                </div>
                
                <div class="bookings-list" id="bookingsList"></div>
            </div>
            
            <button class="btn btn-secondary" id="btnLogoutAdmin">יציאה</button>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <!-- App Script -->
    <script src="script.js"></script>
</body>
</html>
